#include "../src/MD/MD.nsh"

declare MD_tb simulation{}

module MD_tb{
  MD md;
  reg start_cnt[5] = 0;
  func_self start();
  
  if(start_cnt < 10) start_cnt++;
  if(start_cnt == 10) {start_cnt++; start()};

  func start seq{
    reg loop[20] = 0;
    for(loop:=0; loop<3000; loop++){
      md.ref(0);
    }
    for(loop:=0; loop<3000; loop++){
      md.ref(1024);
    }
    for(loop:=0; loop<3000; loop++){
      md.ref(300);
    }
  }
}
